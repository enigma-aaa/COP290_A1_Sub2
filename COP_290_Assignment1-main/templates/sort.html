<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='sort_style.css') }}">
    <title>Stocks Page</title>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <div class="sidebar">


        <form action="/process_filters" method="POST">
            <label for="Volume">Volume  </label>
            <br>
            <input type="number" name = 'l_lim[]' placeholder="Lower Limit for Volume">
            <input type="number" name = 'm_lim[]' placeholder="Max Limit for Volume">
            <br>
            <label for="pe_ratio">P/E Ratio</label>
            <br>
            <input type="number" name = 'l_lim[]' placeholder="Lower Limit for PE ratio">
            <input type="number" name = 'm_lim[]' placeholder="Max Limit for PE ratio">
            <br>
            <label for="marketCap">Market Cap</label>
            <br>
            <input type="number" name = 'l_lim[]' placeholder="Lower Limit for Market Cap">
            <input type="number" name = 'm_lim[]' placeholder="Max Limit for Market Cap">
            <br>
            <label for="Price">Price</label>
            <br>
            <input type="number" name = 'l_lim[]' placeholder="Lower Limit for Price">
            <input type="number" name = 'm_lim[]' placeholder="Max Limit for Price">
            <br>
    
            <label for="">Industry Filters :</label>
            <br>
            {% for i in range(0,12) %}

            <input type="checkbox" name="checked_filter_boxes[]" value={{i}} {% if checked_filter_boxes[i]=='yes' %} checked {% endif %}>
            <label for="checkbox">{{Industries_filter[i]}}</label>
            <br>
            {% endfor %}
            <input type="submit" value="Submit">
        </form>

        </div>

        <div class="content">
            <ul id="sortedStockList">
                <table>
                    <thead>
                        <tr class="button-row">
                            <form action="/sort_filters" method="POST">
                            {% for col in filtered_df_columns %}
                                <th>
                                    <button class="table-button" type="submit" name="sort" value="{{col}}">{{col}}</button>
                                
                                </th>
                            {% endfor %}
                            </form>
                        </tr>
                    </thead>
                    <tbody>
                        {% for index,row in filtered_df.iterrows() %}
                        <tr>
                            {% for col in filtered_df_columns %}
                                
                            <td>{{ row[col]}}</td>
                                
                                
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </ul>
        </div>
    </div>
</body>
</html>
